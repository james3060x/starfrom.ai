(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{8039:function(e,a,s){Promise.resolve().then(s.bind(s,3551))},3551:function(e,a,s){"use strict";s.d(a,{ContactForm:function(){return F}});var t=s(7437),r=s(2265),n=s(9376),l=s(9820),c=s(279),d=s(5060),i=s(3448);let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...r})});o.displayName="Textarea";var m=s(2381),h=s(8245),p=s(870),x=s(875),u=s(2135),f=s(401);let j=p.fC;p.ZA;let g=p.B4,y=r.forwardRef((e,a)=>{let{className:s,children:r,...n}=e;return(0,t.jsxs)(p.xz,{ref:a,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[r,(0,t.jsx)(p.JO,{asChild:!0,children:(0,t.jsx)(x.Z,{className:"h-4 w-4 opacity-50"})})]})});y.displayName=p.xz.displayName;let _=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.u_,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(u.Z,{className:"h-4 w-4"})})});_.displayName=p.u_.displayName;let N=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.$G,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(x.Z,{className:"h-4 w-4"})})});N.displayName=p.$G.displayName;let b=r.forwardRef((e,a)=>{let{className:s,children:r,position:n="popper",...l}=e;return(0,t.jsx)(p.h_,{children:(0,t.jsxs)(p.VY,{ref:a,className:(0,i.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...l,children:[(0,t.jsx)(_,{}),(0,t.jsx)(p.l_,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(N,{})]})})});b.displayName=p.VY.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.__,{ref:a,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",s),...r})}).displayName=p.__.displayName;let v=r.forwardRef((e,a)=>{let{className:s,children:r,...n}=e;return(0,t.jsxs)(p.ck,{ref:a,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(p.wU,{children:(0,t.jsx)(f.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(p.eT,{children:r})]})});v.displayName=p.ck.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(p.Z0,{ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=p.Z0.displayName;var w=s(9174),C=s(1817),Z=s(2371),k=s(8705),z=s(4438);function F(){let e=(0,n.useSearchParams)(),{selectedModules:a,clearModules:s}=(0,Z.W)(),[i,p]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!1),[_,N]=(0,r.useState)({company_name:"",contact_name:"",contact_phone:"",contact_wechat:"",contact_email:"",industry:"",company_size:"",need_type:[],budget_range:"",expected_timeline:"",notes:""}),F=e.get("source")||"contact",R=a.length>0;(0,r.useEffect)(()=>()=>{x&&s()},[x,s]);let I=e=>{N(a=>({...a,need_type:a.need_type.includes(e)?a.need_type.filter(a=>a!==e):[...a.need_type,e]}))},S=async e=>{if(e.preventDefault(),!_.contact_name){z.Am.error("请填写联系人姓名");return}if(!_.contact_phone&&!_.contact_wechat&&!_.contact_email){z.Am.error("请至少填写一种联系方式");return}p(!0);try{(await fetch("/api/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({..._,source:F,selected_modules:a.map(e=>({id:e.id,name:e.name}))})})).ok?(u(!0),z.Am.success("提交成功！我们将在24小时内与您联系")):z.Am.error("提交失败，请稍后重试")}catch(e){z.Am.error("提交失败，请稍后重试")}finally{p(!1)}};return x?(0,t.jsx)(l.Zb,{className:"border-0 shadow-lg",children:(0,t.jsxs)(l.aY,{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(f.Z,{className:"w-8 h-8 text-green-600"})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"已收到您的需求"}),(0,t.jsx)("p",{className:"text-gray-600 mb-2",children:"我们将在 24 小时内与您联系"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"如需紧急咨询，请添加微信：starfrom-ai"})]})}):(0,t.jsx)(l.Zb,{className:"border-0 shadow-lg",children:(0,t.jsxs)(l.aY,{className:"p-8",children:[R&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-[#06b6d4]/10 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"您已选择的模块："}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map(e=>(0,t.jsx)(w.C,{variant:"secondary",children:e.name},e.id))})]}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"company_name",children:"公司名称"}),(0,t.jsx)(c.I,{id:"company_name",placeholder:"请输入公司名称",value:_.company_name,onChange:e=>N({..._,company_name:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"contact_name",children:"联系人姓名 *"}),(0,t.jsx)(c.I,{id:"contact_name",placeholder:"请输入联系人姓名",value:_.contact_name,onChange:e=>N({..._,contact_name:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"contact_phone",children:"手机号"}),(0,t.jsx)(c.I,{id:"contact_phone",placeholder:"请输入手机号",value:_.contact_phone,onChange:e=>N({..._,contact_phone:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"contact_wechat",children:"微信号"}),(0,t.jsx)(c.I,{id:"contact_wechat",placeholder:"请输入微信号",value:_.contact_wechat,onChange:e=>N({..._,contact_wechat:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"contact_email",children:"邮箱"}),(0,t.jsx)(c.I,{id:"contact_email",type:"email",placeholder:"请输入邮箱",value:_.contact_email,onChange:e=>N({..._,contact_email:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{children:"行业"}),(0,t.jsxs)(j,{value:_.industry,onValueChange:e=>N({..._,industry:e}),children:[(0,t.jsx)(y,{children:(0,t.jsx)(g,{placeholder:"选择行业"})}),(0,t.jsx)(b,{children:k.Q7.map(e=>(0,t.jsx)(v,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{children:"团队规模"}),(0,t.jsxs)(j,{value:_.company_size,onValueChange:e=>N({..._,company_size:e}),children:[(0,t.jsx)(y,{children:(0,t.jsx)(g,{placeholder:"选择团队规模"})}),(0,t.jsx)(b,{children:k.TM.map(e=>(0,t.jsx)(v,{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{children:"需求类型（可多选）"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:k.oZ.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.X,{id:e,checked:_.need_type.includes(e),onCheckedChange:()=>I(e)}),(0,t.jsx)(d._,{htmlFor:e,className:"text-sm font-normal cursor-pointer",children:e})]},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{children:"预算范围"}),(0,t.jsxs)(j,{value:_.budget_range,onValueChange:e=>N({..._,budget_range:e}),children:[(0,t.jsx)(y,{children:(0,t.jsx)(g,{placeholder:"选择预算范围"})}),(0,t.jsx)(b,{children:k.EI.map(e=>(0,t.jsx)(v,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{children:"期望上线时间"}),(0,t.jsxs)(j,{value:_.expected_timeline,onValueChange:e=>N({..._,expected_timeline:e}),children:[(0,t.jsx)(y,{children:(0,t.jsx)(g,{placeholder:"选择期望上线时间"})}),(0,t.jsx)(b,{children:k.qY.map(e=>(0,t.jsx)(v,{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"notes",children:"补充说明"}),(0,t.jsx)(o,{id:"notes",placeholder:"请描述您的具体需求或问题...",rows:4,value:_.notes,onChange:e=>N({..._,notes:e.target.value})})]}),(0,t.jsx)(m.z,{type:"submit",className:"w-full bg-[#06b6d4] hover:bg-[#0891b2]",size:"lg",disabled:i,children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"提交中..."]}):"提交咨询"})]})]})})}},279:function(e,a,s){"use strict";s.d(a,{I:function(){return l}});var t=s(7437),r=s(2265),n=s(3448);let l=r.forwardRef((e,a)=>{let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});l.displayName="Input"}},function(e){e.O(0,[851,782,451,600,803,525,44,971,117,744],function(){return e(e.s=8039)}),_N_E=e.O()}]);